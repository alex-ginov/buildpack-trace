server:
  http_listen_port: 3200
  http_listen_address: "127.0.0.1"  # Ã©coute uniquement en local (OK pour Grafana local)

distributor:
  receivers:
    otlp:
      protocols:
        http:
          endpoint: "127.0.0.1:4318"
        grpc:
          endpoint: "127.0.0.1:4317"
    jaeger:
      protocols:
        thrift_http:
          endpoint: "127.0.0.1:14268"
    zipkin:
      endpoint: "127.0.0.1:9411"
      
storage:
  trace:
    backend: s3
    s3:
      endpoint: "http://192.168.194.77:9001/"
      bucket: "poc"
      access_key: "minioadmin"
      secret_key: "minioadmin"
      insecure: true  # HTTP, pas HTTPS

# ðŸ”Ž Active la recherche TraceQL (nÃ©cessaire pour Grafana)
search_enabled: true

# ðŸ§± Active la compaction (indexation des blocs locaux)
compactor:
  compaction:
    compacted_block_retention: 48h
  search_enabled: true

# ðŸ“¤ (Optionnel) Remote write - Ã  activer plus tard pour exporter vers un backend Tempo distant
# remote_write:
#   - endpoint: "https://tempo-remote.example.com:3200"
#     tenant_id: "my-tenant"
#     # auth:
#     #   basic_auth:
#     #     username: "user"
#     #     password: "pass"
#     # batch:
#     #   max_bytes: 1048576
#     #   max_traces: 1000
