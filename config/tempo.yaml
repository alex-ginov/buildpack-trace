server:
  http_listen_address: "0.0.0.0"
  http_listen_port: ${PORT}
  grpc_listen_address: "0.0.0.0"
  grpc_listen_port: ${TCP_GRPC_PORT:-4317}

storage:
  trace:
    backend: local
    local:
      path: /tmp/tempo-data/blocks
    wal:
      path: /tmp/tempo-data/wal

distributor:
  # Laisse vide pour utiliser le serveur gRPC principal

# Nouvelle configuration memberlist/ring
memberlist:
  # ðŸ’¡ CORRECTION: instance_addr et instance_port DOIVENT Ãªtre ici
  instance_addr: 0.0.0.0
  instance_port: ${TCP_GRPC_PORT:-4317}
  # Le kvstore pour l'anneau est maintenant une sous-section de memberlist
  kvstore:
    store: inmemory 
  
# Configuration Querier
querier:
  # ðŸ’¡ CORRECTION: query_frontend_enabled est bien sous querier
  # Si l'erreur persiste sur ce champ, cela pourrait Ãªtre dÃ» Ã  un autre
  # champ manquant. Nous allons le laisser comme ceci pour l'instant.
  query_frontend_enabled: false 

compactor:
  compaction:
    block_retention: 24h